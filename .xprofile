# things that would normally be in bash_profile

[ -f /usr/share/bash-completion/bash-completion ] && . /usr/share/bash-completion/bash_completion


export XDG_DATA_HOME=${XDG_DATA_HOME:="$HOME/.local/share"}
export XDG_CACHE_HOME=${XDG_CACHE_HOME:="$HOME/.cache"}
export XDG_CONFIG_HOME=${XDG_CONFIG_HOME:="$HOME/.config"}
#export XINITRC="$XDG_CONFIG_HOME"/X11/xinitrc
export CARGO_HOME="${XDG_DATA_HOME:-$HOME/.local/share}/cargo"
export HISTFILE="${XDG_DATA_HOME:-$HOME/.local/share}/history"
#export GTK2_RC_FILES="${XDG_DATA_HOME:-$HOME/.config}/gtk-2.0/gtkrc-2.0"
export WGETRC="${XDG_CONFIG_HOME:-$HOME/.config}/wget/wgetrc"
#export MOZ_LEGACY_HOME="${XDG_CONFIG_HOME:-$HOME/.config/}mozilla"
#export MOZ_PROFILE_HOME="${XDG_CONFIG_HOME:-$HOME/.config/}mozilla"
export GOPATH="${XDG_DATA_HOME:-$HOME/.local/share}/go"
export PATH="$PATH:$HOME/go/bin"
export NPM_CONFIG_USERCONFIG="${XDG_CONFIG_HOME:-$HOME/.config/}/npm/npmrc"
export GNUPGHOME="${XDG_DATA_HOME:-$HOME/.local/share}/gnupg"
export LESSHISTFILE="-"

export PASSWORD_STORE_DIR="${XDG_DATA_HOME:-$HOME/.local/share}/password-store"
export XMONAD_DATA_HOME="${XDG_DATA_HOME:-$HOME/.local/share}/xmonad"
export XMONAD_CACHE_HOME="${XDG_CACHE_HOME:-$HOME/.cache/}xmonad"
export XMONAD_CONFIG_HOME="${XDG_CONFIG_HOME:-$HOME/.config/}xmonad"

export KITTY_CONFIG_DIRECTORY="${XDG_CONFIG_HOME:-$HOME/.config}/kitty.d"
export KITTY_CACHE_DIRECTORY="${XDG_CACHE_HOME:-$HOME/.cache/kitty}"


export STARSHIP_CONFIG="${XDG_CONFIG_HOME:-$HOME/.config}/starship/starship.toml"
export STARSHIP_CACHE="${XDG_CACHE_HOME:-$HOME/.cache/starship}"

export PATH="$HOME/.cabal/bin:$PATH"
export PATH="$HOME/.local/bin:$PATH"

#export PATH=\"$(pwd)/git-fuzzy/bin:\$PATH\
#

export npm_config_prefix="$HOME/.local"
export PATH="$PATH:$HOME/go/bin"

export QT_QPA_PLATFORMTHEME=qt5ct
export GDK_SCALE=1
export EDITOR="nvim"
export READER="xpdf"
export VIDEO="mpv"
#export VISUAL="emacsclient -c -a emacs"
export VISUAL="nvim"
export TERMINAL="kitty"
export BROWSER="firefox"
export PAGER="bat"

if [[ "$(tty)" = "/dev/tty1" ]]; then
	pgrep dusk || startx
fi

######################################################################

systemctl --user import-environment PATH

#if [ -z "${DISPLAY}" ] && [ "${XDG_VTNR}" -eq 1 ]; then
#  exec startx
#fi


function path(){
    old=$IFS
    IFS=:
    printf "%s\n" $PATH
    IFS=$old
}

export PYENV_ROOT="$HOME/.pyenv"
command -v pyenv >/dev/null || export PATH="$PYENV_ROOT/bin:$PATH"
eval "$(pyenv init -)"

export QT_AUTO_SCREEN_SCALE_FACTOR=1
export PLASMA_USE_QT_SCALING=1


#export FZF_FZM_OPTS="--multi --reverse --border=rounded \
#--preview 'bat --style=numbers --color=always --line-range :500 {}' \
#--color 'fg:#928374,fg+:#18E406,bg:#121212,preview-bg:#1F2022,border:#F97407' \
#--bind 'enter:execute(kitty -e nvim)'"

#export FZF_MARKS_FILE=`${HOME}/.config/fzf-marks`
#export FZF_MARKS_CMD=`/usr/bin/fzf`
export FZF_FZM_OPTS="--reverse --cycle +m --ansi --bind=ctrl-o:accept,ctrl-t:toggle --select-1"
#export FZF_DMARK_OPTS=`--cycle +m --ansi --bind=right:acceptctrl-o:accept,ctrl-t:toggle --select-1`

export FZF_DEFAULT_COMMAND="fd . $HOME"
export FZF_CTRL_T_COMMAND="$FZF_DEFAULT_COMMAND"
export FZF_ALT_C_COMMAND="fd -t d . $HOME"

export DOTBARE_DIR="$HOME/.cfg"
export DOTBARE_TREE="$HOME"

